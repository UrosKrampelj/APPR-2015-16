---
title: "Poročilo pri predmetu Analiza podatkov s programom R"
author: "Uroš Krampelj"
output:
  pdf_document:
    latex_engine: xelatex
    includes:
      in_header: lib/styles.sty
---

```{r setup, echo=FALSE, results='hide', message=FALSE}
# Če želimo nastaviti pisave v PDF-ju, odkomentiramo
# in sledimo navodilom v programu.
#source("fontconfig.r", encoding = "UTF-8")

# Uvoz vseh potrebnih knjižnic
source("lib/libraries.r", encoding = "UTF-8")
```

# Izbira teme

Kot  navijač nogometnega kluba Chelsea F.C. sem za svojo temo analiziranja izbral Analiza igralcev nogometnega kluba Chelsea. Ideja projekta je analiza vsakega igralca v zgodovini kluba od njegove ustanovitve ter uspešnost kluba tako na domačem, kot tudi na mednarodnem prizorišču. 
Cilj projekta je ugotoviti, katerim nogometašem se je s svojimi nastopi uspelo zapisati z v klubsko zgodovino kot legende kluba in ugotoviti, katere sezone so bile bolj ali manj uspešne glede na končno uvrstitev v prvenstvu, ob tem pa utrditi znanje o programiranju s programom r. 




# Obdelava, uvoz in čiščenje podatkov

```{r uvoz, echo=FALSE}
source("uvoz/uvoz.r", encoding = "UTF-8")
```
S spletnega naslova https://en.m.wikipedia.org/wiki/List_of_Chelsea_F.C._players#List_of_players sem uvozil tabelo igralcev v obliki HTML, v kateri je za vsakega igralca podano :



* ime igralca (imenska spremenljivka)

* Nationality; država iz katere igralec prihaja (imenska spremenljivka)
 
* Position; njegov položaj na igrišču (imenska spremenljivka)
 
* leta; stevilo let, v katerih je nastopal za klub (številska spremenljivka)
 
* Appearences; število tekem, ki jih je odigral (številska spremenljivka)
 
* Goals; število zadetkov za klub (številska spremenljivka)

* Chelsea.zacetek; letnica, kdaj je prisel v klub (številska spremenljivka)

* Chelsea.konec; letnica, kdaj je odsel iy kluba (številska spremenljivka)

Zatem sem naredil urejenostni vektor z namenom, da tabeli nogometasi dodam stolpec STATUS z urejenostno spremenjivko za vsakega igralca posebej. Z ukazom data.frame sem tabeli  dodal stolpec z urejenostno spremenljivko ter novo tabelo zaradi preglednosti poimenoval IGRALCI. Tabela Igralci je tako sestavljena iz devetih stolpcev. 


```{r,echo=FALSE,message=FALSE}
kable(head(IGRALCI))
``` 

      

Nato sem s spletnega naslova https://en.wikipedia.org/wiki/List_of_Chelsea_F.C._seasons uvozil tabelo uvrstitev kluba v raličnih tekmovanjih v obliki HTML, v kateri je za vsako sezono podano:

* TEKME; števil odigranih tekem (številska spremenljivka)

* ZMAGE; število zmag (številska spremenljivka)
      
* NEODLOCENO; število neodločenih tekem (številska spremenljivka)
      
* PORAZ; število porazov (številska spremenljivka)
      
* DANI.GOLI; število zadetih golov (številska spremenljivka)
      
* PREJETI.GOLI; število prejetih golov (številska spremenljivka)
      
* TOCKE; stevilo tock (številska spremenljivka)

* UVRSTITEV; končna uvrstitev v tekmovanju (številska spremenljivka)
      
```{r,echo=FALSE,message=FALSE}
kable(head(ZGODOVINA))
```

      

\pagebreak

# Vizualizacija

Iz tabele ZGODOVINA sem ustvaril graf1 in graf2, ter ju združil v graf3, v katerem rdeča črta prikazuje število točk, modra pa število doseženih golov v posamezni sezoni.


```{r,echo=FALSE,message=FALSE,warning=FALSE}
print(graf3)
```

## Ugotovitve
Iz grafa lahko razberemo pozitivno korelacijo med stevilom zadetih golov in stevilom tock v posamezni sezoni, kar je bilo tudi pricakovano, saj vec zadetih golov v splosnem pomeni vec zmag in posledicno vec osvojenih tock. 
Obe opazovani kolicini od leta 1995 naprej praviloma narascata, vendar pa je opaziti nekaj vmesnih nihanj, kar pomeni, da se dosezki kluba v zadnjem obdobju izboljsujejo.

\pagebreak
Nato sem prav tako iz tabele ZGODOVINA ustvaril graf4 in graf5 ter ju zdruzil v graf6, ki prikazuje koncno uvrstitev v sezoni z zeleno in stevilo prejetih golov z oranzno crto.

```{r,echo=FALSE,message=FALSE,warning=FALSE}
print(graf6)
```

## Ugotovitve
Opazimo lahko, da sta kolicini med seboj pozitivno korelirani, kar je pricakovano, saj manjse stevilo prejetih golov ponavadi pomeni tudi vec zmag in posledicno tudi visjo koncno uvrstitev.
vidimo, da imata od sezone 1996 obe kolicini trend padanja, kar potrjuje tezo, da se dosezki kluba v zadnjem obdobju izboljsujejo.
***

\pagebreak
#Analiza
